I"Ş<p>= Python tips
:hp-tags: python, tips</p>

<p>==== Whatâ€™s here ?</p>

<p>Here you will find some tips n tricks around python.</p>

<p>==== List tricks</p>

<p>====== Print a list in one line
[source,python]
â€”-</p>
<blockquote>
  <blockquote>
    <blockquote>
      <p>l = [â€œaâ€, â€œbâ€, â€œcâ€]
â€œ;â€.join(l)
â€˜a;b;câ€™</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>l = [1, 2, 3]
â€œâ€œ.join(str(l))
â€˜[1, 2, 3]â€™
â€”-</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>====== Get the last elem or go back in a list
[source,python]
â€”-
l = [â€œaâ€, â€œbâ€, â€œcâ€] 
print (l[-1]) # Get the last element of the list which will print â€œcâ€
print (l[-2]) # Will print â€œbâ€
â€”-</p>

<p>====== Get all the odd numbers of a list
[source,python]
â€”-</p>
<blockquote>
  <blockquote>
    <blockquote>
      <p>l = [0, 1, 2, 3, 4, 5]
l[1::2] # start the list at 1 and go +2 on the iterator
[1, 3, 5]
â€”-
====== Reverse a full list
[source,python]
â€”-
l
[0, 1, 2, 3, 4, 5]
l = l[::-1]
l
[5, 4, 3, 2, 1, 0]
â€”-</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>====== Remove duplicates in a list</p>

<p>Using the builtin set() {Sets are unordered collections of distinct objects} we can remove all the duplicates and to go back in a list we can use the list() function.</p>

<h2 id="sourcepython">[source,python]</h2>
<blockquote>
  <blockquote>
    <blockquote>
      <p>l1 = [1, 2, 3, 1, 2, 3]
l1 = set(l1)
l1
set([1, 2, 3])
l1 = list(l1)
l1
[1, 2, 3]
â€”-
====== string list to int list in one line
[source,python]
â€”-
l = [â€œ1â€, â€œ2â€, â€œ3â€]
l = [int(x) for x in l]
l
[1, 2, 3]
â€”-</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>====== Remove empty string in a list</p>

<h2 id="sourcepython-1">[source,python]</h2>
<blockquote>
  <blockquote>
    <blockquote>
      <p>l = [â€œaâ€, â€œâ€, â€œbâ€]
l
[â€˜aâ€™, â€˜â€™, â€˜bâ€™]
l = [x for x in l if x]
l
[â€˜aâ€™, â€˜bâ€™]
â€”-</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>==== Ternary in python
Added in 2.5 version of python :</p>

<h2 id="sourcepython-2">[source,python]</h2>
<p>a = 1
b = 2
result = 0</p>

<p>result = a if a &gt; b else b
print (result) # will print 2 for b</p>

<p>result = a if a &lt; b else b
print (result) # will print 1 for a</p>

<p>#&lt;1&gt;</p>

<p>####</p>

<p>def yes():
	print â€œyesâ€</p>

<p>def no():
	print â€œnoâ€</p>

<p>yes() if True else no() 
yes() if False else no()</p>

<p>#&lt;2&gt;</p>

<hr />
<p>&lt;1&gt; Will output :</p>
<blockquote>

  <p>2
1</p>
</blockquote>

<p>&lt;2&gt; Will output :</p>
<blockquote>

  <p>yes
no</p>
</blockquote>

<p>==== Syntax *</p>

<p>The single star * unpacks the sequence/collection into positional arguments.</p>

<h2 id="sourcepython-3">[source,python]</h2>
<p>def sum(a, b):
    return a + b</p>

<p>values = (1, 2)</p>

<h2 id="s--sumvalues--will-return-the-sum-of-1-and-2">s = sum(*values) # will return the sum of 1 and 2</h2>

<p>==== Multilines import</p>

<p>A nice way to import</p>

<h2 id="source-python">[source, python]</h2>
<p>from Package.class import(
        method1,
        method2,
    )
â€”-</p>

<p>==== How to check if a file with extension .xx is in a folder</p>

<h2 id="source-python-1">[source, python]</h2>
<p>from os import listdir
from os.path import isfile, join</p>

<p>lFilesList = [f for f in listdir(self.__fileName) if isfile(join(self.__fileName, f)) and (join(self.__fileName, f)).endswith(â€œ.sdaâ€)]
if len(lFilesList) &gt; 0:
   print â€œThere are filesâ€
â€”-</p>

<p>==== Get items from a list a if not in b</p>

<p>Use set(b) instead of b, why ? 
List membership testing is O(n), Set membership testing is O(1)</p>

<p>So if you test list membership in a loop the overall loop is O(n2).</p>

<h2 id="source-python-2">[source, python]</h2>
<p>a = [1, 2, 3, 4 ,5]
b = [4, 5, 6, 7]</p>

<p>res = [x for x in a if x not in set(b)]</p>

<h1 id="now-res-is--1-2-3">now res is : [1, 2, 3]</h1>
<hr />

<p>==== How to check the method existing in a python object</p>

<h2 id="source-python-3">[source, python]</h2>
<p>[method_name for method_name in dir(object)
 if callable(getattr(object, method_name))]
â€”-</p>

<p>==== Format text</p>

<h2 id="source-python-4">[source, python]</h2>

<blockquote>
  <blockquote>
    <blockquote>
      <p>s = â€œhello worldâ€
s.center(40)
â€˜              hello world               â€˜</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>â€™â€˜.format(â€˜sample textâ€™)
â€˜<strong>**</strong><strong>**</strong><strong>**</strong><em>sample text</em><strong>**</strong><strong>**</strong><strong>**</strong>*â€™     # * is the fill character.</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>â€™â€˜.format(â€˜sample textâ€™)
â€˜                   sample text                    â€˜     # with a length of 50.</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>x = 13.949999999999999999
x
13.95
g = float(â€œ{0:.2f}â€.format(x))
g
13.95
x == g
True
h = round(x, 2)
h
13.95
x == h
True
â€”-</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>==== script with arguments</p>

<p>Use click library : http://click.pocoo.org/5/</p>

:ET